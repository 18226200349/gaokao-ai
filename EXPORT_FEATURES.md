# 方案导出功能说明

## 📋 功能概览

志愿填报方案页面提供两种导出方式：

1. **导出为PNG图片** - 高清截图，方便分享
2. **打印方案** - 纸质打印，便于保存

## 🖼️ 导出为PNG图片

### 功能特点
- ✅ 高清截图（2倍分辨率）
- ✅ 完整内容（包含所有卡片和信息）
- ✅ 保留原有样式和布局
- ✅ 自动命名（省份_分数_时间戳）

### 使用方法
1. 点击"导出方案"按钮（带下载图标）
2. 等待1-3秒生成图片
3. 图片自动下载到本地

### 技术实现
- 使用 `html2canvas` 库
- 2倍分辨率确保清晰度
- PNG格式保证质量

### 安装依赖
```bash
cd client
pnpm install html2canvas
```

## 🖨️ 打印方案

### 功能特点
- ✅ 自动隐藏导航栏和按钮
- ✅ 优化打印布局
- ✅ 避免内容分页断裂
- ✅ 保持内容可读性

### 使用方法
1. 点击"打印方案"按钮（带打印机图标）
2. 在打印预览中调整设置
3. 选择打印或保存为PDF

### 打印样式优化

**自动隐藏的元素**
- 顶部导航栏（app-header）
- 底部页脚（app-footer）
- 移动端底部导航（mobile-bottom-nav）
- 所有按钮

**样式调整**
- 移除阴影和毛玻璃效果
- 添加简洁边框
- 纯白色背景
- 避免内容分页断裂

### CSS打印样式

```css
@media print {
  /* 隐藏导航 */
  .app-header,
  .app-footer,
  .mobile-bottom-nav,
  button {
    display: none !important;
  }
  
  /* 优化布局 */
  .app-content {
    padding: 0 !important;
    margin: 0 !important;
    max-width: 100% !important;
  }
  
  /* 避免分页断裂 */
  .solution-container,
  .glass-card,
  .ant-card,
  table {
    page-break-inside: avoid;
  }
}
```

## 📊 对比

| 功能 | PNG导出 | 打印方案 |
|------|---------|----------|
| 格式 | PNG图片 | PDF/纸质 |
| 分享 | 容易（图片） | 需转换 |
| 质量 | 高清（2倍） | 依赖打印机 |
| 编辑 | 不可编辑 | 不可编辑 |
| 存储 | 较小 | 较小 |
| 用途 | 在线分享 | 纸质存档 |

## 🎯 使用场景

### PNG导出适合
- 📱 微信/QQ分享给家长
- 📧 邮件发送
- 💾 云盘备份
- 🖼️ 在线查看

### 打印方案适合
- 📑 纸质存档
- 📁 文件夹保存
- 🏫 学校提交
- 👨‍👩‍👧 家庭讨论

## 🔧 故障排除

### PNG导出失败
1. 确认已安装html2canvas
2. 检查浏览器控制台错误
3. 确保页面完全加载
4. 尝试关闭浏览器扩展

### 打印预览异常
1. 检查打印CSS是否生效
2. 使用Chrome/Edge浏览器（推荐）
3. 在打印设置中选择"背景图形"
4. 调整缩放比例

### 内容被截断
- 使用"适应页面"选项
- 调整页边距
- 选择横向/纵向打印

## 💡 最佳实践

### PNG导出
1. 确保所有内容都在可见区域
2. 展开要导出的Tab内容
3. 等待所有图片加载完成
4. 避免导出时进行其他操作

### 打印方案
1. 使用"另存为PDF"保存电子版
2. 选择合适的纸张大小（A4推荐）
3. 设置适当的页边距
4. 预览后再打印

## 📝 文件命名格式

### PNG导出
```
志愿填报方案_省份_分数_时间戳.png
```
例如：`志愿填报方案_北京_650分_1698765432.png`

### 打印/PDF
由浏览器或打印机控制，建议手动命名为：
```
志愿填报方案_省份_分数_日期.pdf
```

## 🚀 未来优化

- [ ] 支持导出为Excel格式
- [ ] 支持批量导出多个方案
- [ ] 支持自定义导出内容
- [ ] 支持添加水印
- [ ] 支持导出到云盘

